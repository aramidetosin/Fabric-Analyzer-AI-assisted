(.venv) user@user-Standard-PC-i440FX-PIIX-1996:~/Documents/vxlan-analysis$   python interface_aiv2.py --provider claude --model claude-sonnet-4-20250514 --delay 15
Juniper Fabric Analysis Tool with AI
Analyzing 5 switches in fabric
AI Provider: CLAUDE

Using Claude model: claude-sonnet-4-20250514

Collecting data from 5 switches in fabric...

Collecting data from 172.29.129.189...
Collecting data from 172.29.129.124...
Collecting data from 172.29.129.59...
Collecting data from 172.29.129.247...
Collecting data from 172.29.129.182...
  âœ“ Interface information
  âœ“ Interface information
  âœ“ Interface information
  âœ“ Interface information
  âœ“ Interface information
  âœ“ BGP summary
  âœ“ BGP summary
  âœ“ BGP summary
  âœ“ BGP summary
  âœ“ BGP summary
  âœ“ Route summary
  âœ“ Route summary
  âœ“ Route summary
  âœ“ Route summary
  âœ“ Route summary
  âœ“ System information
  âœ“ System information
  âœ“ System information
  âœ“ System information
  âœ“ System information
  âœ“ VXLAN tunnel endpoints
  âœ“ VXLAN tunnel endpoints
  âœ“ VXLAN tunnel endpoints
  âœ“ VXLAN tunnel endpoints
  âœ“ VXLAN tunnel endpoints
  âœ“ EVPN database
  âœ“ EVPN database
  âœ“ EVPN database
  âœ“ EVPN database
  âœ“ EVPN database
  âœ“ LLDP neighbors
  âœ“ LLDP neighbors
  âœ“ LLDP neighbors
  âœ“ LLDP neighbors
  âœ“ LLDP neighbors
  âœ“ LACP interfaces
  âœ“ LACP interfaces
  âœ“ LACP interfaces
  âœ“ LACP interfaces
  âœ“ LACP interfaces
  Collecting fabric data...

Saving raw fabric data to fabric_data_20251022_154538.json...
âœ“ Raw data saved!

Step 1: Analyzing individual switches...
  â†’ Analyzing 172.29.129.189...
  â±  Waiting 15 seconds to avoid rate limits...
  â†’ Analyzing 172.29.129.124...
  â±  Waiting 15 seconds to avoid rate limits...
  â†’ Analyzing 172.29.129.59...
  â±  Waiting 15 seconds to avoid rate limits...
  â†’ Analyzing 172.29.129.182...
  â±  Waiting 15 seconds to avoid rate limits...
  â†’ Analyzing 172.29.129.247...

Step 2: Analyzing fabric topology and health...
Performing fabric-level analysis...
âœ“ Fabric analysis complete!

Saving analysis to fabric_analysis_claude_20251022_154538.json...
âœ“ Analysis saved!

Fabric Analysis Results:


                                                         Fabric Summary
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Metric                    â•‘ Value                                                                                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Switches            â•‘ 5                                                                                                â•‘
â•‘ Topology Type             â•‘ spine-leaf                                                                                       â•‘
â•‘ Health Score              â•‘ 65/100                                                                                           â•‘
â•‘ Health Status             â•‘ Fabric has good physical connectivity and BGP underlay, but VXLAN/EVPN overlay is not functional â•‘
â•‘ Spine Switches            â•‘ 172.29.129.189, 172.29.129.124                                                                   â•‘
â•‘ Leaf Switches             â•‘ 172.29.129.59, 172.29.129.182, 172.29.129.247                                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


                                                Switch Details
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ IP              â”‚ Hostname        â”‚ Role       â”‚ Version         â”‚  Interfaces  â”‚  BGP Peers   â”‚   VXLAN    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 172.29.129.189  â”‚ spine-1         â”‚ spine      â”‚ 25.2R1.9        â”‚     3/3      â”‚     3/3      â”‚     0      â”‚
â”‚ 172.29.129.124  â”‚ spine-2         â”‚ spine      â”‚ 25.2R1.9        â”‚     3/3      â”‚     3/3      â”‚     0      â”‚
â”‚ 172.29.129.59   â”‚ leaf-1          â”‚ leaf       â”‚ 25.2R1.9        â”‚     3/3      â”‚     2/2      â”‚     0      â”‚
â”‚ 172.29.129.182  â”‚ leaf-3          â”‚ leaf       â”‚ 25.2R1.9        â”‚     3/3      â”‚     2/2      â”‚     0      â”‚
â”‚ 172.29.129.247  â”‚ leaf-2          â”‚ leaf       â”‚ 25.2R1.9        â”‚     3/3      â”‚     2/2      â”‚     0      â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


                                      BGP Sessions Per Switch
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Switch          â”‚ Hostname        â”‚ Role       â”‚  Total   â”‚ Established  â”‚   Down   â”‚   Status   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 172.29.129.189  â”‚ spine-1         â”‚ spine      â”‚    3     â”‚      3       â”‚    0     â”‚  âœ“ All Up  â”‚
â”‚ 172.29.129.124  â”‚ spine-2         â”‚ spine      â”‚    3     â”‚      3       â”‚    0     â”‚  âœ“ All Up  â”‚
â”‚ 172.29.129.59   â”‚ leaf-1          â”‚ leaf       â”‚    2     â”‚      2       â”‚    0     â”‚  âœ“ All Up  â”‚
â”‚ 172.29.129.182  â”‚ leaf-3          â”‚ leaf       â”‚    2     â”‚      2       â”‚    0     â”‚  âœ“ All Up  â”‚
â”‚ 172.29.129.247  â”‚ leaf-2          â”‚ leaf       â”‚    2     â”‚      2       â”‚    0     â”‚  âœ“ All Up  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


         BGP Fabric Summary
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Metric                    â”‚ Value â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total BGP Sessions        â”‚ 10    â”‚
â”‚ Established Sessions      â”‚ 10    â”‚
â”‚ Underlay Peers            â”‚ 10    â”‚
â”‚ Overlay Peers             â”‚ 0     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯


         VXLAN Fabric Status
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Metric                    â”‚ Value â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total VTEPs               â”‚ 0     â”‚
â”‚ Expected Tunnels          â”‚ 6     â”‚
â”‚ Actual Tunnels            â”‚ 0     â”‚
â”‚ Missing Tunnels           â”‚ 6     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯


            EVPN Fabric Status
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Metric                    â”‚ Value      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total VNIs                â”‚ 0          â”‚
â”‚ VNI List                  â”‚            â”‚
â”‚ VNI Consistency           â”‚ consistent â”‚
â”‚ Total MAC Routes          â”‚ 0          â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


                                                     âš ï¸  Fabric Issues
â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Severity   â”ƒ Category     â”ƒ Switch          â”ƒ Description                         â”ƒ Recommendation                      â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ CRITICAL   â”ƒ vxlan        â”ƒ all             â”ƒ VXLAN configuration is completely   â”ƒ Review and fix VXLAN configuration  â”ƒ
â”ƒ            â”ƒ              â”ƒ                 â”ƒ non-functional across all switches  â”ƒ syntax on all switches              â”ƒ
â”ƒ CRITICAL   â”ƒ evpn         â”ƒ all             â”ƒ EVPN database is empty on all       â”ƒ Configure EVPN instances and VNIs   â”ƒ
â”ƒ            â”ƒ              â”ƒ                 â”ƒ switches                            â”ƒ after fixing VXLAN issues           â”ƒ
â”ƒ WARNING    â”ƒ configuratiâ€¦ â”ƒ all             â”ƒ VXLAN tunnel commands failing with  â”ƒ Validate VXLAN configuration syntax â”ƒ
â”ƒ            â”ƒ              â”ƒ                 â”ƒ syntax errors                       â”ƒ and ensure proper VTEP              â”ƒ
â”ƒ            â”ƒ              â”ƒ                 â”ƒ                                     â”ƒ configuration                       â”ƒ
â”ƒ WARNING    â”ƒ bgp          â”ƒ all             â”ƒ No BGP EVPN address family sessions â”ƒ Configure BGP EVPN address family   â”ƒ
â”ƒ            â”ƒ              â”ƒ                 â”ƒ detected                            â”ƒ on all spine-leaf peerings          â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›


                                                  ğŸ’¡ Recommendations
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Priority   â”‚ Category        â”‚ Description                                   â”‚ Expected Benefit                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HIGH       â”‚ overlay_configâ€¦ â”‚ Fix VXLAN configuration syntax errors and     â”‚ Enable overlay network              â”‚
â”‚            â”‚                 â”‚ establish proper VTEP functionality           â”‚ functionality and inter-leaf        â”‚
â”‚            â”‚                 â”‚                                               â”‚ communication                       â”‚
â”‚ HIGH       â”‚ evpn_configuraâ€¦ â”‚ Configure EVPN instances, VNIs, and BGP EVPN  â”‚ Enable MAC learning, IP mobility,   â”‚
â”‚            â”‚                 â”‚ address family                                â”‚ and multi-tenancy capabilities      â”‚
â”‚ MEDIUM     â”‚ bgp_optimizatiâ€¦ â”‚ Add BGP EVPN address family to existing       â”‚ Enable EVPN route exchange for      â”‚
â”‚            â”‚                 â”‚ spine-leaf BGP sessions                       â”‚ overlay services                    â”‚
â”‚ MEDIUM     â”‚ monitoring      â”‚ Implement proper VXLAN and EVPN monitoring    â”‚ Early detection of overlay network  â”‚
â”‚            â”‚                 â”‚ and alerting                                  â”‚ issues and faster troubleshooting   â”‚
â”‚ LOW        â”‚ documentation   â”‚ Document the current underlay configuration   â”‚ Better operational visibility and   â”‚
â”‚            â”‚                 â”‚ and plan overlay deployment                   â”‚ change management                   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

âœ“ Analysis complete!
AI Provider: CLAUDE
Raw data: fabric_data_20251022_154538.json
Analysis: fabric_analysis_claude_20251022_154538.json
(.venv) user@user-Standard-PC-i440FX-PIIX-1996:~/Documents/vxlan-analysis$